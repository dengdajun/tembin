<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.alibabasmt.database.customsmt.mapper.MessageMapper">
  <resultMap id="BaseResultMap" type="com.alibabasmt.domains.querypojos.smtmessage.MessageQuery">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
      <id column="id" property="id" jdbcType="BIGINT" />
      <result column="message_id" property="messageId" jdbcType="BIGINT" />
      <result column="messageType" property="messagetype" jdbcType="VARCHAR" />
      <result column="relationId" property="relationid" jdbcType="BIGINT" />
      <result column="productUrl" property="producturl" jdbcType="VARCHAR" />
      <result column="productName" property="productname" jdbcType="VARCHAR" />
      <result column="productId" property="productid" jdbcType="BIGINT" />
      <result column="typeId" property="typeid" jdbcType="BIGINT" />
      <result column="orderUrl" property="orderurl" jdbcType="VARCHAR" />
      <result column="orderId" property="orderid" jdbcType="BIGINT" />
      <result column="gmtCreate" property="gmtcreate" jdbcType="TIMESTAMP" />
      <result column="receiverLoginId" property="receiverloginid" jdbcType="VARCHAR" />
      <result column="senderName" property="sendername" jdbcType="VARCHAR" />
      <result column="senderLoginId" property="senderloginid" jdbcType="VARCHAR" />
      <result column="receiverName" property="receivername" jdbcType="VARCHAR" />
      <result column="isRead" property="isread" jdbcType="INTEGER" />
      <result column="haveFile" property="havefile" jdbcType="INTEGER" />
      <result column="fileUrl" property="fileurl" jdbcType="VARCHAR" />
      <result column="smt_acount_id" property="smtAcountId" jdbcType="BIGINT" />
      <result column="create_user" property="createUser" jdbcType="BIGINT" />
      <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
      <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />

  </resultMap>

    <select id="selectSmtOrderTableList" resultMap="BaseResultMap" parameterType="map">
        select * from smt_order_table orderTable

        left join smt_order_receipt_address receiptaddress on receiptaddress.orderId=orderTable.orderId
        where 1=1
        <if test="id!=null">
            and orderTable.id = #{id}
        </if>
        group by orderTable.orderId
        order by orderTable.gmtCreate desc
    </select>
</mapper>